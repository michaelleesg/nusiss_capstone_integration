install wsl
wsl --install -d Ubuntu
install qdrant
sudo nano /etc/containers/registries.conf
[registries.search]
registries = ["docker.io"]
podman pull docker.io/qdrant/qdrant
podman run -d --name qdrant -p 6333:6333 -v qdrant_data:/qdrant/storage docker.io/qdrant/qdrant
curl http://localhost:6333/collections
sudo apt install python3-pip

sudo apt update
sudo apt install python3.12-venv
python3.12 -m venv ~/venvs/cyberner
source ~/venvs/cyberner/bin/activate
pip install sentence-transformers beautifulsoup4 nltk pandas
import nltk
nltk.download("punkt")
pip install transformers datasets evaluate
pip install 'accelerate>=0.26.0'
pip install spacy
python -m spacy download en_core_web_sm
pip install qdrant-client sentence-transformers

pip install fastapi uvicorn
pip install pydantic[dotenv] python-multipart

to restart qdrant
podman stop qdrant
podman rm qdrant

podman volume create qdrant-vol

podman run -d \
  --name qdrant \
  --replace \
  --restart unless-stopped \
  -p 6333:6333 \
  -v qdrant-vol:/qdrant/storage \
  docker.io/qdrant/qdrant:latest


  
curl http://localhost:6333/collections

uvicorn 3_search_api_rich:app --reload --host 0.0.0.0 --port 8000 &

curl "http://localhost:8000/search?query=IronWind%20phishing"


sudo lsof -t -i:8000 | xargs kill -9


🔎 Add similarity threshold filtering (e.g., score > 0.6)
📊 Add embedding metadata filters (e.g., date, source)
🔁 Enable pagination (e.g., offset, limit)
🧠 Add explainability (return top-k token importances?)
🔐 Secure the endpoint with API keys or auth
🧪 Add /debug/embedding endpoint to inspect encoded vectors
🧵 Switch to streaming if large result sets are expected



how to reload qdrant when ingestion code changed
podman stop qdrant
podman rm qdrant
podman volume rm qdrant-vol
podman volume create qdrant-vol
podman run -d \
  --name qdrant \
  --replace \
  --restart unless-stopped \
  -p 6333:6333 \
  -v qdrant-vol:/qdrant/storage \
  docker.io/qdrant/qdrant:latest
python ./2_ingest_vector_wsl.py

rerun search api
 

openai nus-iss-ais-archaas
***REMOVED***
